---
title: ğŸ PyCharm åœ¨è°ƒè¯• Pytest å‡½æ•°æ—¶æŠ¥é”™ '_UnixSelectorEventLoop' object has no attribute '_compute_internal_coro'
date: 2024-02-20 16:40:57
tags:
  - Python
  - IDE
  - ç–‘éš¾æ‚ç—‡
summary: åŸæ¥æ˜¯ PyCharm IDE çš„é—®é¢˜ï¼
draft: false
---

# ç¯å¢ƒ

- PyCharm 2023.3.3
- MacOS Sonoma 14.2.1
- pytest 7.2.1
- pytest-asyncio 0.23.4

# é—®é¢˜

åœ¨ä½¿ç”¨ Pycharm è°ƒè¯• Pytest æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¦‚æœä½¿ç”¨äº†å¼‚æ­¥æ–¹æ³• asyncio åç¨‹ï¼ŒæŠ¥é”™ï¼š

![](/static/blog/2024-02-20-pytest-asyncio-issue/2024-02-20-16-47-07.png)

<center>
  <small>å†™å¥½æµ‹è¯•ç”¨ä¾‹ï¼Œç‚¹å‡»è°ƒè¯•ä¹‹åå°±æŠ¥é”™äº†ï¼ğŸ˜«</small>
</center>

é”™è¯¯ä¿¡æ¯ï¼š

```
AttributeError: '_UnixSelectorEventLoop' object has no attribute '_compute_internal_coro'
```

ä½†æ˜¯å¦‚æœç›´æ¥è¿è¡Œï¼Œåˆ™ä¸ä¼šæŠ¥é”™â€¦â€¦å¾ˆå¥‡æ€ª

# è§£å†³æ–¹æ³•

é—®é¢˜æ˜¯ PyCharm IDE åœ¨è°ƒè¯•æ—¶ä¼šè¦†ç›–ä¸€éƒ¨åˆ†å†…ç½®æ–¹æ³•ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†è·å– EventLoop å¯¹è±¡çš„æ–¹æ³•ã€‚

åªè¦åœ¨ IDE ä¸­å…³é—­å¯¹ asyncio çš„è¦†ç›–å³å¯ï¼š

- å¸®åŠ© -> æŸ¥æ‰¾æ“ä½œ -> æ³¨å†Œè¡¨
- ctrl+f æœç´¢ `python.debug.asyncio.repl` å–æ¶ˆå‹¾é€‰
- ç‚¹å‡»â€œå…³é—­â€ï¼Œé‡å¯ PyCharm

![](/static/blog/2024-02-20-pytest-asyncio-issue/2024-02-20-16-51-50.png)

# å‚è€ƒ

[python - Using starlette TestClient causes an AttributeError : '\_UnixSelectorEventLoop' object has no attribute '\_compute_internal_coro' - Stack Overflow](https://stackoverflow.com/questions/77920123/using-starlette-testclient-causes-an-attributeerror-unixselectoreventloop-o/77926544#77926544)
